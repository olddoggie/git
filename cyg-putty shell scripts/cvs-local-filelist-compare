# This script is used for sorting the file list and making a comparison between the one generated by CM script(ruby) && CVS Rdiff(shell)
echo "Rationale is cat <filelist> |grep -v '\[.*files\]' | sort -u | awk '/^[A-Za-z]/ {print $0}' > <output file>"
echo "cat <filelist2> |awk '/^[A-Za-z0-9]/ {print $1}' | sort -u > <output file2>"
echo "comm -3 <output file> <output file2>"
echo ""
echo "!! In order to fetch the correct file list, make sure to run ~/bin/cvs-local-check-update for this build/release withOUT Interuption Nor Switching !! "
echo ""
file0=~/update_filelist.txt
file1=temp-ruby-filelist.txt
file2=temp-cvs-filelist.txt
compare1=general-ruby-filelist.txt
compare2=general-cvs-filelist.txt
output=compare-result-filelist.txt
cat bleumModule*.txt >>  $file1
cat $file1 |grep -v '\[.*files\]' | awk '{print $2}' | sort -u | awk '/^[A-Za-z]/ {print $0}' > $compare1
rm $file1
cp $file0 $file2
cat $file2 |awk '/^[A-Za-z0-9]/ {print $1}' | sort -u > $compare2
rm $file2
comm -3 $compare1 $compare2 | tee $output # '-3' means to diff those files which are not existing in both file list